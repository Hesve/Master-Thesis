FEDFUNDS <- read.csv("C:/Users/henry/OneDrive/Year_2/Master Thesis/Main/Code/data/FEDFUNDS.csv")
View(FEDFUNDS)
library(readxl)
us_inflation <- read_excel("C:/Users/henry/OneDrive/Year_2/Master Thesis/Main/Code/data/us_inflation.xlsx",
skip = 10)
View(us_inflation)
library(devtools)
devtools::install_github("tedwestling/ctsCausal")
?ctsCausal
??ctsCausal
#' @examples
#' # Sample data
n <- 1000
W <- data.frame(W1 = runif(n))
Z <- rbinom(n, size = 1, prob = 1/(1 + exp(2-W$W1)))
A <- (1-Z) * rnorm(n, mean = W$W1, sd = abs(1 + W$W1))
Y <- rexp(n, rate = 1+abs(W$W1 * A))
causalNullTest(Y, A, W, p = c(1,2,Inf), control = list(cross.fit = FALSE, verbose=TRUE, g.n.bins = 2:5))
library(ctsCausal)
causalNullTest(Y, A, W, p = c(1,2,Inf), control = list(cross.fit = FALSE, verbose=TRUE, g.n.bins = 2:5))
install.packages("SuperLearner")
library(SuperLearner)
causalNullTest(Y, A, W, p = c(1,2,Inf), control = list(cross.fit = FALSE, verbose=TRUE, g.n.bins = 2:5))
View(FEDFUNDS)
View(us_inflation)
View(FEDFUNDS)
View(us_inflation)
View(us_inflation)
X <- us_inflation[2:13,]
X
X <- us_inflation[,2:13]
X
as.vector(X)
#' @examples
#' # Sample data
n <- 1000
W <- data.frame(W1 = runif(n))
Z <- rbinom(n, size = 1, prob = 1/(1 + exp(2-W$W1)))
A <- (1-Z) * rnorm(n, mean = W$W1, sd = abs(1 + W$W1))
Y <- rexp(n, rate = 1+abs(W$W1 * A))
causalNullTest(Y, A, W, p = c(1,2,Inf), control = list(cross.fit = FALSE, verbose=TRUE, g.n.bins = 2:5))
install.packages("earth")
#install.packages("earth")
library(earth)
causalNullTest(Y, A, W, p = c(1,2,Inf), control = list(cross.fit = FALSE, verbose=TRUE, g.n.bins = 2:5))
install.packages("sets")
library(sets)
library(sets)
library(sets)
library(sets)
causalNullTest(Y, A, W, p = c(1,2,Inf), control = list(cross.fit = FALSE, verbose=TRUE, g.n.bins = 2:5))
A
View(us_inflation)
inflation_vec <- apply(X, 1, unlist)
inflation_vec
View(inflation_vec)
X
View(X)
View(us_inflation)
View(FEDFUNDS)
df <- data.frame(
A = c(1, 2, 3),
B = c(4, 5, 6),
C = c(7, 8, 9)
)
# Convert dataframe to vector by row
vector_by_row <- apply(df, 1, unlist)
View(vector_by_row)
# Convert dataframe to vector by row
vector_by_row <- c(t(df))
vector_by_row
# Convert dataframe to vector by row
vector_by_row <- c(df)
vector_by_row
# Convert dataframe to vector by row
vector_by_row <- c(t(df))
vector_by_row
unlist(A)
unlist(df)
View(us_inflation)
X <- us_inflation[-c(1:4),2:13]
X <- unlist(X)
# inflation as outcome
Y <- us_inflation[-c(1:4),2:13]
Y <- unlist(Y)
FEDFUNDS
X <- FEDFUNDS[,2]
View(FEDFUNDS)
View(us_inflation)
View(us_inflation)
View(FEDFUNDS)
X <- FEDFUNDS[-835,2]
View(us_inflation)
View(us_inflation)
View(FEDFUNDS)
View(df)
View(FEDFUNDS)
View(us_inflation)
View(FEDFUNDS)
View(us_inflation)
us_inflation[-c(1:4),2:13]
Y <- unlist(Y[-1:6])
Y[-C(1:6,)]
# inflation as outcome
Y <- us_inflation[-c(1:4),2:13]
Y[-C(1:6,)]
Y[-c(1:6,)]
Y[-c(1:6),]
Y <- unlist(Y)
Y <- Y(-c(1:6))
Y <- Y[-c(1:6)]
causalNullTest(Y, X)
causalNullTest(Y, X W=NULL)
causalNullTest(Y, X, W=NULL)
setwd("G:/Min enhet/GitHub/Thesis")
FED_data <- read.csv("./data/FEDFUNDS.csv")
us_inflation <- read_excel("./data/us_inflation.xlsx",
skip = 10) # skip the first 10 rows as its just information
riksbanken_data <- read_delim("data/riksbanken_monthly.csv",
delim = ";", escape_double = FALSE, trim_ws = TRUE)
library(haven)
library(readxl)
library(readr)
library(tidyverse)
library(lubridate)
library(forecast)
library(stats)
library(psych)
FED_data <- read.csv("./data/FEDFUNDS.csv")
us_inflation <- read_excel("./data/us_inflation.xlsx",
skip = 10) # skip the first 10 rows as its just information
riksbanken_data <- read_delim("data/riksbanken_monthly.csv",
delim = ";", escape_double = FALSE, trim_ws = TRUE)
swe_inflation <- read_csv(".\data/swedish_CPI.csv",
us_unemployment <- read_csv(".\data/us_UNRATE.csv")
swe_inflation <- read_csv("./data/swedish_CPI.csv",
col_names = FALSE, skip = 3)
us_unemployment <- read_csv("./data/us_UNRATE.csv")
swe_unemployment <- read_csv("./data/swe_UNRATE.csv")
FED_data<- FED_data[-c(1:479, 835),]
us_inflation <- us_inflation %>%  select(-c(14,15)) %>%  pivot_longer(
cols = -Year,
names_to = "Month",
values_to = "InflationRate") %>% slice(-c(1:533))
swe_inflation <- swe_inflation[-c(1:173, 529),] %>%
rename(Date = X1, InflationRate = X2)
riksbanken_data <- riksbanken_data[-356,]
us_unemployment <- us_unemployment[-c(1:557, 913),]
swe_unemployment <- rbind(swe_unemployment[-c(1:137),], NA) %>%
`colnames<-`(c("Date", "UnemploymentRate"))
#combining the data
data <- seq(as.Date("1994-06-01"), length.out = 355, by = "month") %>%
format("%Y-%m") %>% #date variable
tibble(Date = ., swe_CPI = swe_inflation$InflationRate,
us_CPI = us_inflation$InflationRate, us_interest = FED_data$FEDFUNDS,
swe_interest = as.numeric(gsub(",", ".", riksbanken_data$Medel)),
us_unemployment= us_unemployment$UNRATE,
"swe_unemployment" = swe_unemployment$UnemploymentRate)
psych::describe(data[,-1])
#should probably make this into a nicer wrapper funciton later
par(mfrow=c(3,2))
variables <- colnames(data)[-1]
for (var in variables){
select(data, var) %>%
ts(start = c(1994, 6), frequency = 12) %>%
plot()
}
for(var in variables){
select(data, var) %>%
tsdisplay(lag.max = 24, main = var)
}
tsdisplay(data$swe_CPI, lag.max = 24, main = "swe_CPI")
apply(data[,-1], 2, Box.test, lag = 12, type = "Ljung-Box")
# Plot time series
for (col in names(data)[-1]) {
plot(data[[paste0(col, "_ts")]], main = col, ylab = col)
}
###
#plots
ts.plot(data$us_interest, data$us_CPI)
plot.ts(data$us_interest)
ts(data$swe_CPI, start = c(1994, 6), frequency = 12) %>% plot()
ts.plot(data$swe_interest
)
riksbanken_data$Medel <- as.numeric(riksbanken_data$Medel)
library(ctsCausal)
library(SuperLearner)
library(earth)
library(sets)
#test for swedish data
causalNullTest(Y = data$swe_CPI[-nrow(data)], A=data$swe_interest[-nrow(data)],
W=data.frame(data$swe_unemployment[-nrow(data)]),
control = list(cross.fit = FALSE, verbose=TRUE, g.n.bins = 2:5))
#test for us data
causalNullTest(Y = data$us_CPI, A=data$us_interest, W=data.frame(data$us_unemployment),
control = list(cross.fit = FALSE, verbose=TRUE), g.n.bins = 2:5)
#test for us data
causalNullTest(Y = data$us_CPI, A=data$us_interest, W=data.frame(data$us_unemployment),
control = list(cross.fit = FALSE, verbose=TRUE, g.n.bins = 2:5))
